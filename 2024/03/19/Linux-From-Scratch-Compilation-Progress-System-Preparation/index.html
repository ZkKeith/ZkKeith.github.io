<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="Keith">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    
    <!--- Seo Part-->
    
    <link rel="canonical" href="http://example.com/2024/03/19/linux-from-scratch-compilation-progress-system-preparation/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="Linux From Scratch (System Preparation)This article provides a brief introduction to partition-related knowledge in LFS  . Personally, I believe that the content covered in this section is quite valua">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux From Scratch Compilation Progress(System Preparation)">
<meta property="og:url" content="http://example.com/2024/03/19/Linux-From-Scratch-Compilation-Progress-System-Preparation/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Linux From Scratch (System Preparation)This article provides a brief introduction to partition-related knowledge in LFS  . Personally, I believe that the content covered in this section is quite valua">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-03-19T15:02:57.000Z">
<meta property="article:modified_time" content="2024-03-19T15:09:14.791Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Linux From Scratch Compilation">
<meta name="twitter:card" content="summary">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/av.jpg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/av.jpg">
    <meta name="theme-color" content="#A31F34">
    <link rel="shortcut icon" href="/images/av.jpg">
    <!--- Page Info-->
    
    <title>
        
            Linux From Scratch Compilation Progress(System Preparation) -
        
        Keith&#39;s Blog
    </title>

    
<link rel="stylesheet" href="/fonts/Chillax/chillax.css">


    <!--- Inject Part-->
    

    
        <style>
    :root {
        --preloader-background-color: #fff;
        --preloader-text-color: #000;
    }

    @media (prefers-color-scheme: dark) {
        :root {
            --preloader-background-color: #202124;
            --preloader-text-color: #fff;
        }
    }

    @media (prefers-color-scheme: light) {
        :root {
            --preloader-background-color: #fff;
            --preloader-text-color: #000;
        }
    }

    @media (max-width: 600px) {
        .ml13 {
            font-size: 2.6rem !important; /* Adjust this value as needed */
        }
    }

    .preloader {
        display: flex;
        flex-direction: column;
        gap: 1rem; /* Tailwind 'gap-4' is 1rem */
        align-items: center;
        justify-content: center;
        position: fixed;
        padding: 12px;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        width: 100vw;
        height: 100vh; /* 'h-screen' is 100% of the viewport height */
        background-color: var(--preloader-background-color);
        z-index: 1100; /* 'z-[1100]' sets the z-index */
        transition: opacity 0.2s ease-in-out;
    }

    .ml13 {
        font-size: 3.2rem;
        /* text-transform: uppercase; */
        color: var(--preloader-text-color);
        letter-spacing: -1px;
        font-weight: 500;
        font-family: 'Chillax-Variable', sans-serif;
        text-align: center;
    }

    .ml13 .word {
        display: inline-flex;
        flex-wrap: wrap;
        white-space: nowrap;
    }

    .ml13 .letter {
        display: inline-block;
        line-height: 1em;
    }
</style>

<div class="preloader">
    
<script src="/js/libs/anime.min.js"></script>

    <h1 class="ml13">
        Keith&#39;s Blog
    </h1>
    <script>
        var textWrapper = document.querySelector('.ml13');
        // Split text into words
        var words = textWrapper.textContent.trim().split(' ');

        // Clear the existing content
        textWrapper.innerHTML = '';

        // Wrap each word and its letters in spans
        words.forEach(function(word) {
            var wordSpan = document.createElement('span');
            wordSpan.classList.add('word');
            wordSpan.innerHTML = word.replace(/\S/g, "<span class='letter'>$&</span>");
            textWrapper.appendChild(wordSpan);
            textWrapper.appendChild(document.createTextNode(' ')); // Add space between words
        });


        anime.timeline({loop: true})
            .add({
                targets: '.ml13 .letter',
                translateY: [100,0],
                translateZ: 0,
                opacity: [0,1],
                easing: "easeOutExpo",
                duration: 1400,
                delay: (el, i) => 300 + 30 * i
            }).add({
            targets: '.ml13 .letter',
            translateY: [0,-100],
            opacity: [1,0],
            easing: "easeInExpo",
            duration: 1200,
            delay: (el, i) => 100 + 30 * i
        });

        let themeStatus = JSON.parse(localStorage.getItem('REDEFINE-THEME-STATUS'))?.isDark;

        // If the theme status is not found in local storage, check the preferred color scheme
        if (themeStatus === undefined || themeStatus === null) {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                themeStatus = 'dark';
            } else {
                themeStatus = 'light';
            }
        }

        // Now you can use the themeStatus variable in your code
        if (themeStatus) {
            document.documentElement.style.setProperty('--preloader-background-color', '#202124');
            document.documentElement.style.setProperty('--preloader-text-color', '#fff');
        } else {
            document.documentElement.style.setProperty('--preloader-background-color', '#fff');
            document.documentElement.style.setProperty('--preloader-text-color', '#000');
        }

        window.addEventListener('load', function () {
            hidePreloaderAfterTimeout(1000); // Hide after 1000 milliseconds once the window has loaded
        });

        // Backup failsafe: Hide preloader after a maximum of 5000 milliseconds, regardless of the window load event
        hidePreloaderAfterTimeout(5000);

        function hidePreloaderAfterTimeout(delay) {
            setTimeout(function () {
                var preloader = document.querySelector('.preloader');
                preloader.style.opacity = '0';
                setTimeout(function () {
                    preloader.style.display = 'none';
                }, 200);
            }, delay);
        }
    </script>
</div>
    

    
<link rel="stylesheet" href="/css/style.css">


    
        
<link rel="stylesheet" href="/assets/build/styles.css">

    

    
<link rel="stylesheet" href="/fonts/fonts.css">

    
<link rel="stylesheet" href="/fonts/Satoshi/satoshi.css">

    <!--- Font Part-->
    
    
    
    


    <script id="hexo-configurations">
    window.config = {"hostname":"example.com","root":"/","language":"en"};
    window.theme = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true,"title_alignment":"left","headings_top_spacing":{"h1":"5rem","h2":"4rem","h3":"2.8rem","h4":"2.5rem","h5":"2.2rem","h6":"2rem"}},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":false,"list":[]},"code_block":{"copy":true,"style":"mac","font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":3,"number":false,"expand":true,"init_open":true},"copyright":{"enable":true,"default":"cc_by_nc_sa"},"lazyload":true,"recommendation":{"enable":false,"title":"推荐阅读","limit":3,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#A31F34","secondary":null,"default_mode":"light"},"global":{"fonts":{"chinese":{"enable":false,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":false},"scroll_progress":{"bar":false,"percentage":true},"website_counter":{"url":"https://cn.vercount.one/js","enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"single_page":true,"preloader":true,"open_graph":true,"google_analytics":{"enable":false,"id":null}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"/images/wallhaven-kxvqp7.jpg","dark":"/images/wallhaven-kxvqp7.jpg"},"title":"Welcome to KeithTab's Creative World","subtitle":{"text":["Mainly Focus On Molecular Dynamics and Quantum Chemistry"],"hitokoto":{"enable":false,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.6rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":true,"style":"default","links":{"github":"https://github.com/ZkKeith","instagram":"https://www.instagram.com/keithtab_shen/","zhihu":"https://www.zhihu.com/people/menscious","twitter":"https://twitter.com/Pereira_Shen","email":"zkkeith@outlook.com"},"qrs":{"weixin":null}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null,"lrc":null}]},"mermaid":{"enable":false,"version":"9.3.0"}},"version":"2.6.1","navbar":{"auto_hide":false,"color":{"left":"#f78736","right":"#367df7","transparency":35},"width":{"home":"1200px","pages":"1000px"},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"}},"search":{"enable":false,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":null,"show_on_mobile":true,"links":null},"article_date_format":"auto","categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}},"footerStart":"2022/8/17 11:45:14"};
    window.lang_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    window.data = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
<meta name="generator" content="Hexo 7.1.1"></head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
<!--        <span class="swup-progress-icon">-->
<!--            <i class="fa-solid fa-circle-notch fa-spin"></i>-->
<!--        </span>-->
    
</div>


<main class="page-container" id="swup">

    

    <div class="main-content-container">


        <div class="main-content-header">
            <header class="navbar-container px-6 md:px-12">

    <div class="navbar-content ">
        <div class="left">
            
            <a class="logo-title" href="/">
                
                Keith&#39;s Blog
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/"
                                        >
                                    <i class="fa-regular fa-house fa-fw"></i>
                                    HOME
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile sheet -->
    <div class="navbar-drawer h-screen w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between">
        <ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start">
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/"
                        >
                            <span>
                                HOME
                            </span>
                            
                                <i class="fa-regular fa-house fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            

            
            
        </ul>

        <div class="statistics flex justify-around my-2.5">
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">2</div>
        <div class="label text-third-text-color text-sm">Tags</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">0</div>
        <div class="label text-third-text-color text-sm">Categories</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">5</div>
        <div class="label text-third-text-color text-sm">Posts</div>
    </a>
</div>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="post-page-container flex relative justify-between box-border w-full h-full">
    <div class="article-content-container">

        <div class="article-title relative w-full">
            
                <div class="w-full flex items-center pt-6 justify-start">
                    <h1 class="article-title-regular text-second-text-color text-4xl md:text-6xl font-bold px-2 sm:px-6 md:px-8 py-3">Linux From Scratch Compilation Progress(System Preparation)</h1>
                </div>
            
            </div>

        
            <div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8">
                <div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]">
                    <img src="/images/av.jpg">
                </div>
                <div class="info flex flex-col justify-between">
                    <div class="author flex items-center">
                        <span class="name text-default-text-color text-lg font-semibold">Keith</span>
                        
                            <span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">Lv1</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2024-03-19 23:02:57</span>
        <span class="mobile">2024-03-19 23:02:57</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2024-03-19 23:09:14</span>
            <span class="mobile">2024-03-19 23:09:14</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/Linux-From-Scratch-Compilation/">Linux From Scratch Compilation</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        


        <div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8">
            <h2 id="Linux-From-Scratch-System-Preparation"><a href="#Linux-From-Scratch-System-Preparation" class="headerlink" title="Linux From Scratch (System Preparation)"></a>Linux From Scratch (System Preparation)</h2><p>This article provides a brief introduction to partition-related knowledge in <em><a class="link"   target="_blank" rel="noopener" href="https://www.linuxfromscratch.org/" >LFS  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></em>. Personally, I believe that the content covered in this section is quite valuable and worth understanding. Many subsequent tasks mainly involve compiling various components, and so on. If you are interested in learning about the specific compilation process, application, and principles of each package, you can refer to the relevant content in the <em>LFS&#x2F;BLFS</em> manual. The manual is regularly updated at each stage, and there may be some minor differences in the compilation methods. Paying attention to these distinctions will help avoid significant issues.</p>
<ol>
<li>First, we need to have a host operating system. Personally, I am using the <em><a class="link"   target="_blank" rel="noopener" href="https://almalinux.org/zh-hans/" >AlmaLinux system  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></em>. To avoid partitioning our main system and risking damage, it is more cost-effective to use <em><a class="link"   target="_blank" rel="noopener" href="https://www.virtualbox.org/wiki/Downloads" >VirtualBox  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></em> as a virtualization software to set up the host system. Alternatively, we can use VMware on Windows for system setup. In this case, we will use the <em><a class="link"   target="_blank" rel="noopener" href="https://www.gentoo.org/" >Gentoo  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></em> live image file for the host system. This allows for easier packaging of the image and partitioning. VirtualBox provides executable installation files for both Windows and Linux. For Debian and RedHat-based operating systems, software installation can be done directly through the dpkg or rpm package managers.</li>
<li>Next, it is important to develop a good habit of taking timely snapshots after completing each phase of operations in the virtual machine. Additionally, during the process of preparing the host system with Gentoo, it is recommended to perform all operations with root privileges. Now let’s move on to the more specific disk partitioning operations.</li>
</ol>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo su -</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">change your previlige to root <span class="keyword">in</span> order to the next operation</span></span><br><span class="line">fdisk -l</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mainly focus on the <span class="string">&quot;fdisk&quot;</span> <span class="built_in">command</span> and it has to been runing <span class="keyword">in</span> the</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">root environment <span class="built_in">which</span> is based on the Gentoo liveCD</span> </span><br></pre></td></tr></table></figure></div>

<h4 id="1-Host-System-Prepartion"><a href="#1-Host-System-Prepartion" class="headerlink" title="1.Host System Prepartion"></a>1.Host System Prepartion</h4><p>After performing the <em>“fdisk -l”</em> operation, typically the disk partitions listed in the Gentoo live CD are labeled as <em>&#x2F;dev&#x2F;sda</em>. However, this situation does not include cases where users have already performed disk partitioning using other systems such as <em>Ubuntu</em> as the host system.</p>
<p>If the &#x2F;dev&#x2F;sda partition appears after executing the “fdisk -l” command, proceed to select this partition for further disk partitioning. The main partitions consist of three major divisions: &#x2F;boot partition, &#x2F;swap partition, and &#x2F;root partition. The &#x2F;boot partition is used for system booting, the &#x2F;swap partition is used for memory swapping, and the &#x2F;root partition is used for user or administrator data storage. They are sequentially designated as &#x2F;dev&#x2F;sda1, &#x2F;dev&#x2F;sda2, and &#x2F;dev&#x2F;sda3. The overall data storage partition should have a minimum space of 30GB. Next, change the swap partition type to “Linux swap&#x2F;solaris” in Linux. After completing all the steps, you need to format each newly created partition. Finally, before formatting, make sure to write the partition changes to the disk. Otherwise, when you restore the system using snapshots, the partitioning changes will not have any substantial effect. The following is a list of commands and the order of operations:</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">fdisk /dev/sda </span><br><span class="line">p</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">type</span> <span class="string">&quot;p&quot;</span> and <span class="keyword">then</span> you will discover /dev/sda partition have ful space and</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">there is no storage information <span class="keyword">in</span> it</span> </span><br><span class="line">n</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">type</span> <span class="string">&quot;n&quot;</span> is used <span class="keyword">for</span> setting up a new partition <span class="keyword">for</span> lfs system</span></span><br><span class="line">3</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">type</span> <span class="string">&quot;3&quot;</span> is used <span class="keyword">for</span> assigning memory <span class="keyword">for</span> each partition, commonly,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">/dev/sda1--&gt;/boot==256MB</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">/dev/sda2--&gt;/swap==1GB/2GB</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">/dev/sda3--&gt;/root==30GB or more</span></span><br><span class="line">w</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">write the partition change into the disk</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Next, we need to format the partition that has been created. However, since the three partitions have different types, there will be slight differences <span class="keyword">in</span> the formatting commands.</span></span><br><span class="line"></span><br><span class="line">mkfs -v -t ext4 /dev/sda3</span><br><span class="line">mkfs -v -t ext4 /dev/sda1</span><br><span class="line">mkswap /dev/sda2</span><br></pre></td></tr></table></figure></div>

<p>Once all the previous steps have been completed, we have successfully partitioned the disk and performed the basic formatting operations. Now, we will proceed to create the &#x2F;boot partition for LFS and mount the previously created <em>&#x2F;dev&#x2F;sda1</em> partition (with a size of 256MB) to the specified location. To ensure the safety of the host system and avoid any interference, all the partition mounting operations will be performed under the &#x2F;mnt directory. For convenience in subsequent operations, we have set the environment variable <em><code>export LFS=/mnt/lfs</code></em> in the host system beforehand. You can verify if this command is effective by using the <em><code>echo $LFS</code></em> command. Next, to mount the &#x2F;boot partition and create the &#x2F;boot directory, follow the steps below:</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir -pv $LFS &amp;&amp; mkdir -pv $LFS/boot</span><br><span class="line">mount -v -t ext4 /dev/sda1 $LFS/boot</span><br><span class="line">mount -v -t ext4 /dev/sda3 $LFS</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">in</span> order to mount /dev/sda3 partition as root <span class="keyword">in</span> /mnt/lfs directory</span></span><br></pre></td></tr></table></figure></div>

<p>Next, since we previously created the <em>&#x2F;swap</em> partition for memory swapping, we still need to activate the <em>&#x2F;swap</em> partition in LFS. However, it’s worth noting that with the continuous development of devices and underlying hardware, the significance of <em>&#x2F;swap</em> has become less necessary compared to ancient times. In reality, it is optional. Nevertheless, for the sake of completeness in the LFS build process, we will still create and activate the <em>&#x2F;swap</em> partition. You can use the following command to activate it:</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/sbin/swapon -v /dev/sda2</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">here we finally finished the host prepartion and don<span class="string">&#x27;t forget saving snapshot in</span></span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">virtual machine</span></span></span><br></pre></td></tr></table></figure></div>

<h4 id="2-Package-Download"><a href="#2-Package-Download" class="headerlink" title="2.Package Download"></a>2.Package Download</h4><p>After preparing the host system, it is necessary to download the source code for all the software following the instructions in the LFS manual. After downloading, refrain from immediately extracting the packages. First, perform an MD5 checksum verification for these installation packages using the command “md5sum” (e.g., man md5sum). Start by creating a “sources” folder in the <em>$LFS</em> directory using the command <code>mkdir -pv $LFS/sources</code>. Once all the source code files have been downloaded and verified, ensure that all the files in the <em>“sources”</em> folder have root permissions using the command <em><code>chown root:root $LFS/sources/\*</code></em>.</p>
<h4 id="3-Group-Useradd-and-file-structure-demonstration"><a href="#3-Group-Useradd-and-file-structure-demonstration" class="headerlink" title="3.Group Useradd and file structure demonstration"></a>3.Group Useradd and file structure demonstration</h4><p>After completing the above steps, you can use the <code>ls</code> or <code>ls -l</code> command to view the structure of the $LFS directory as follows:</p>
<table>
<thead>
<tr>
<th>Partition</th>
<th>Specific application</th>
</tr>
</thead>
<tbody><tr>
<td><em>&#x2F;lost+found</em></td>
<td><em>Default guide partition will be installed here</em></td>
</tr>
<tr>
<td><em>&#x2F;sources</em></td>
<td><em>Downloaded package and patches</em></td>
</tr>
<tr>
<td><em>&#x2F;boot</em></td>
<td><em>Boot filesystem</em></td>
</tr>
</tbody></table>
<p>The file structure mentioned above does not conform to the typical Linux root directory file structure. Next, we will create symbolic links according to the instructions in the LFS manual to obtain the following file structure. Please refer to the LFS manual mentioned at the beginning for the specific steps.</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash">LFS/</span></span><br><span class="line">|-- bin</span><br><span class="line">|-- boot</span><br><span class="line">|-- etc</span><br><span class="line">|-- home</span><br><span class="line">|-- lib</span><br><span class="line">|-- lib64 -&gt; lib</span><br><span class="line">|-- lost+found</span><br><span class="line">|-- sbin</span><br><span class="line">|-- usr</span><br><span class="line">|-- var</span><br><span class="line">|-- sources</span><br></pre></td></tr></table></figure></div>

<p>Next, we need to create a user for the LFS system. You can choose any username you prefer. In this case, we will use <em>“lfs”</em> to be consistent with the manual. The command to create the <em>“lfs”</em> user is as follows. Please note that the following operations are applicable to almost all Linux distributions. The primary purpose of creating the <em>“lfs”</em> user is to avoid contaminating the host system:</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">groupadd lfs &amp;&amp; useradd -s /bin/bash -g lfs -m -k /dev/null lfs</span><br><span class="line">passwd lfs (setup your own passwd)</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">as follows <span class="keyword">in</span> order to give root directory operation right to lfs user</span></span><br><span class="line">chown -v lfs $LFS/&#123;usr&#123;,/*&#125;,lib,var,etc,bin,sbin,tools&#125;</span><br><span class="line">case $(uname -m) in</span><br><span class="line">  x86_64) chown -v lfs $LFS/lib64 ;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure></div>

<p>At this point, we can use the command <code>su - lfs</code> to switch to the LFS environment. By doing so, we can create the .bashrc file according to the manual, which will establish environment variables in the Bash terminal environment.</p>

        </div>

        
            <div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8">
                <div class="article-copyright-info-container">
    <ul>
        <li><strong>Title:</strong> Linux From Scratch Compilation Progress(System Preparation)</li>
        <li><strong>Author:</strong> Keith</li>
        <li><strong>Created at
                :</strong> 2024-03-19 23:02:57</li>
        
            <li>
                <strong>Updated at
                    :</strong> 2024-03-19 23:09:14
            </li>
        
        <li>
            <strong>Link:</strong> https://redefine.ohevan.com/2024/03/19/Linux-From-Scratch-Compilation-Progress-System-Preparation/
        </li>
        <li>
            <strong>
                License:
            </strong>
            

            
                This work is licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a>.
            
        </li>
    </ul>
</div>

            </div>
        

        
            <ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden">
                
                    <li class="tag-item mx-0.5">
                        <a href="/tags/Linux-From-Scratch-Compilation/">#Linux From Scratch Compilation</a>&nbsp;
                    </li>
                
            </ul>
        

        

        
            <div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8">
                
                    <div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
                        <a class="prev"
                        rel="prev"
                        href="/2024/03/19/%E9%80%9A%E8%BF%87string-method-%E5%BC%A6%E7%90%86%E8%AE%BA-%E6%90%9C%E7%B4%A2%E8%9B%8B%E7%99%BD%E8%B4%A8%E6%9E%84%E8%B1%A1%E4%B9%8B%E9%97%B4%E6%9C%80%E5%B0%8F%E8%83%BD%E9%87%8F%E8%B7%AF%E5%BE%84-MEP/"
                        >
                            <span class="left arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-left"></i>
                            </span>
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">通过string-method(弦理论)搜索蛋白质构象之间最小能量路径(MEP)</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
                        <a class="next"
                        rel="next"
                        href="/2024/03/19/Umbrella-Sampling-Method-For-Ligand-Water-System/"
                        >
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">Umbrella Sampling Method For Ligand Water System</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        


        
            <div class="comment-container px-2 sm:px-6 md:px-8 pb-8">
                <div class="comments-container mt-10 w-full ">
    <div id="comment-anchor" class="w-full h-2.5"></div>
    <div class="comment-area-title w-full my-1.5 md:my-2.5 text-xl md:text-3xl font-bold">
        Comments
    </div>
    

        
            
    <div id="waline"></div>
    <script type="module" data-swup-reload-script>
      import { init } from '/js/libs/waline.mjs';

      function loadWaline() {
        init({
          el: '#waline',
          serverURL: 'https://example.example.com',
          lang: 'zh-CN',
          dark: 'body[class~="dark-mode"]',
          requiredMeta: ['nick', 'mail'],
          emoji: [],
          recaptchaV3Key: "wasd",
          
        });
      }

      if (typeof swup !== 'undefined') {
        loadWaline();
      } else {
        window.addEventListener('DOMContentLoaded', loadWaline);
      }
    </script>



        
    
</div>

            </div>
        
    </div>

    
        <div class="toc-content-container">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">On this page</div>
        <div class="page-title">Linux From Scratch Compilation Progress(System Preparation)</div>
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux-From-Scratch-System-Preparation"><span class="nav-text">Linux From Scratch (System Preparation)</span></a></li></ol>

    </div>
</div>
        </div>
    
</div>



                

            </div>

            

        </div>

        <div class="main-content-footer">
            <footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color">
    <div class="info-container py-3 text-center">
        
        <div class="text-center">
            &copy;
            
              <span>2022</span>
              -
            
            2024&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">Keith</a>
            
                
                <p class="post-count space-x-0.5">
                    <span>
                        5 posts in total
                    </span>
                    
                </p>
            
        </div>
        
            <script data-swup-reload-script src="https://cn.vercount.one/js"></script>
            <div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right">
                
                    <span id="busuanzi_container_site_uv" class="lg:!block">
                        <span class="text-sm">VISITOR COUNT</span>
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="lg:!block">
                        <span class="text-sm">TOTAL PAGE VIEWS</span>
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left">
            <span class="lg:block text-sm">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a></span>
            <span class="text-sm lg:block">THEME&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.6.1</a></span>
        </div>
        
        
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
            <script data-swup-reload-script>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fa-regular fa-comments"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex justify-center items-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    

</main>


    
<script src="/js/libs/Swup.min.js"></script>

<script src="/js/libs/SwupSlideTheme.min.js"></script>

<script src="/js/libs/SwupScriptsPlugin.min.js"></script>

<script src="/js/libs/SwupProgressPlugin.min.js"></script>

<script src="/js/libs/SwupScrollPlugin.min.js"></script>

<script src="/js/libs/SwupPreloadPlugin.min.js"></script>

<script>
    const swup = new Swup({
        plugins: [
            new SwupScriptsPlugin({
                optin: true,
            }),
            new SwupProgressPlugin(),
            new SwupScrollPlugin({
                offset: 80,
            }),
            new SwupSlideTheme({
                mainElement: ".main-content-body",
            }),
            new SwupPreloadPlugin(),
        ],
        containers: ["#swup"],
    });
</script>







<script src="/js/tools/imageViewer.js" type="module"></script>

<script src="/js/utils.js" type="module"></script>

<script src="/js/main.js" type="module"></script>

<script src="/js/layouts/navbarShrink.js" type="module"></script>

<script src="/js/tools/scrollTopBottom.js" type="module"></script>

<script src="/js/tools/lightDarkSwitch.js" type="module"></script>

<script src="/js/layouts/categoryList.js" type="module"></script>





    
<script src="/js/tools/codeBlock.js" type="module"></script>




    
<script src="/js/layouts/lazyload.js" type="module"></script>




    
<script src="/js/tools/runtime.js"></script>

    
<script src="/js/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">




  
<script src="/js/libs/Typed.min.js"></script>

  
<script src="/js/plugins/typed.js" type="module"></script>









<div class="post-scripts" data-swup-reload-script>
    
        
<script src="/js/tools/tocToggle.js" type="module"></script>

<script src="/js/layouts/toc.js" type="module"></script>

<script src="/js/plugins/tabs.js" type="module"></script>

    
</div>


</body>
</html>
